{% extends "cartridges/base.html" %}

{% block title %}–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏{% endblock %}

{% block content %}
<h2>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</h2>

<div class="row g-4">
    <!-- –û—Ç–¥–µ–ª—ã -->
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">–û—Ç–¥–µ–ª—ã</h5>
                <a href="{% url 'add_department' %}" class="btn btn-light btn-sm">‚ûï –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª</a>
            </div>
            <ul class="list-group list-group-flush">
                {% for department in departments %}
                <li class="list-group-item">{{ department.name }}</li>
                {% empty %}
                <li class="list-group-item text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- –ü—Ä–∏–Ω—Ç–µ—Ä—ã -->
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">–ü—Ä–∏–Ω—Ç–µ—Ä—ã</h5>
                <a href="{% url 'add_printer' %}" class="btn btn-light btn-sm">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä</a>
            </div>
            <ul class="list-group list-group-flush">
                {% for printer in printers %}
                <li class="list-group-item">
                    {{ printer.name }}<br/>
                    <small class="text-muted">–û—Ç–¥–µ–ª: {{ printer.department }}</small><br/>
                    <small class="text-muted">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: {{ printer.location }}</small>
                </li>
                {% empty %}
                <li class="list-group-item text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- –ö–∞—Ä—Ç—Ä–∏–¥–∂–∏ -->
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">–ö–∞—Ä—Ç—Ä–∏–¥–∂–∏</h5>
                <a href="{% url 'add_cartridge' %}" class="btn btn-light btn-sm">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—Ä–∏–¥–∂</a>
            </div>
            <ul class="list-group list-group-flush">
                {% for cartridge in cartridges %}
                <li class="list-group-item">{{ cartridge.name }} ({{ cartridge.article }})</li>
                {% empty %}
                <li class="list-group-item text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ -->
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏</h5>
                <a href="{% url 'set_min_stock' %}" class="btn btn-light btn-sm">‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω. –æ—Å—Ç–∞—Ç–æ–∫</a>
            </div>
            <div class="card-body p-0">
                {% if min_stocks %}
                <table class="table table-striped table-hover mb-0">
                    <thead class="table-dark">
                    <tr>
                        <th>–ö–∞—Ä—Ç—Ä–∏–¥–∂</th>
                        <th>–û—Ç–¥–µ–ª</th>
                        <th>–ú–∏–Ω. –æ—Å—Ç–∞—Ç–æ–∫</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for stock in min_stocks %}
                    <tr>
                        <td>{{ stock.cartridge }}</td>
                        <td>{{ stock.department }}</td>
                        <td>{{ stock.min_stock }}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                {% else %}
                <p class="text-muted m-3">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- –¢–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ -->
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">–¢–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏</h5>
                <a href="{% url 'set_current_stock' %}" class="btn btn-light btn-sm">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞—Ç–æ–∫</a>
            </div>
            <div class="card-body p-0">
                {% if current_stocks %}
                <table class="table table-striped table-hover mb-0">
                    <thead class="table-dark">
                    <tr>
                        <th>–ö–∞—Ä—Ç—Ä–∏–¥–∂</th>
                        <th>–û—Å—Ç–∞—Ç–æ–∫</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for stock in current_stocks %}
                    <tr>
                        <td>{{ stock.cartridge }}</td>
                        <td>{{ stock.current_stock }}</td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                {% else %}
                <p class="text-muted m-3">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π -->
<div class="col-md-12">
    <div class="card mb-4">
        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <h5 class="card-title mb-0">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π</h5>
            <a href="{% url 'add_compatibility' %}" class="btn btn-light btn-sm">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</a>
        </div>
        <div class="card-body p-0">
            {% if compatibility_list %}
            <table class="table table-striped table-hover mb-0">
                <thead class="table-dark">
                <tr>
                    <th>–ü—Ä–∏–Ω—Ç–µ—Ä</th>
                    <th>–ö–∞—Ä—Ç—Ä–∏–¥–∂</th>
                </tr>
                </thead>
                <tbody>
                {% for link in compatibility_list %}
                <tr>
                    <td>{{ link.printer }}</td>
                    <td>{{ link.cartridge }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p class="text-muted m-3">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}